<div class="card">
  <div class="mat-card-container">
    <mat-card class="mat-card">
    <mat-card-header>
      <mat-card-title>Virtual Peripheral Devices History</mat-card-title>
      <mat-card-subtitle>Tracking progress</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="chart-container">
        <canvas  id="virtualDevicesChart" >{{ chart }}</canvas>
      </div>
    </mat-card-content>
  </mat-card>
  </div>
</div>

<div class="card">
  <div class="mat-card-container">
    <mat-card class="mat-card">
    <mat-card-header>
      <mat-card-title>Virtual Peripheral Devices List</mat-card-title>
      <mat-card-subtitle>[{{ (dataSource | devices).data.length }}]</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-divider></mat-divider>
      <!-- Apply MatSort directive to the mat-table element -->
      <table mat-table [dataSource]="dataSource | devices" class="my-table mat-elevation-z8" matSort>

        <!-- Column definition using ngFor -->
        <ng-container *ngFor="let column of Columns" matColumnDef="{{column}}">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ column.toUpperCase() }}</th>
          <td mat-cell *matCellDef="let innerElement">{{ innerElement[column] }}</td>
        </ng-container>

        <!-- Header row definition -->
        <tr mat-header-row *matHeaderRowDef="Columns"></tr>
        <!-- Row definition -->
        <tr mat-row *matRowDef="let row; columns: Columns"></tr>
      </table>
      <ng-container *ngIf="(dataSource | devices).data.length  === 0">
        <h2>No Virtual Peripheral Device available</h2>
      </ng-container>
      <div class="subtitle">
        <p>Note: In order to view all Virtual Peripheral Devices, ensure that both Envhubs and SensorPorts are opened.</p>
      </div>
    </mat-card-content>
  </mat-card>
  </div>
</div>
