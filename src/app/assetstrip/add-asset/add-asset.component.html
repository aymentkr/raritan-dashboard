<mat-stepper #stepper>
  <mat-step [stepControl]="firstFormGroup" errorMessage="Type is required.">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Fill out the type</ng-template>
      <mat-form-field class="dialog-content" >
        <mat-label>Types</mat-label>
        <mat-select placeholder="Type" formControlName="type">
          <mat-option value="1">Virtual Asset Tag</mat-option>
          <mat-option value="1">Virtual Blade Extension</mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <p>Go to the next step</p>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup" errorMessage="Slot is required.">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Fill out the slot</ng-template>
      <!-- Slot Input (changed to mat-select) -->
      <mat-form-field class="dialog-content" *ngIf="!isExt">
        <mat-label>Slot</mat-label>
        <mat-select placeholder="Slot" formControlName="slot">
          <mat-option value="0">0 (main tag)</mat-option>
          <mat-option *ngFor="let slot of extensionSlots" [value]="slot">{{ slot }}</mat-option>
        </mat-select>
        <mat-hint align="end">Slot 0 = main tag, slots 1..16 = extension tags</mat-hint>
      </mat-form-field>

      <!-- Info Message -->
      <div class="info-message" *ngIf="!isExt">
        If slot = 0, tag will appear at rackunit (numeric slot index) of this asset strip <br>
        If slot > 0, tag will appear at slot (numeric index, 1~16) of a blade extension. <br>
        Blade extension must already be present at slot rackunit of this asset strip.
      </div>
      <!-- Submit Button -->
      <button mat-raised-button
              [disabled]="secondFormGroup.get('custom')?.value"
              (click)="generateID()">
        Generate AssetID again
      </button>
      <!-- Cancel Button -->
      <button mat-button (click)="closeDialog()" mat-flat-button color="warn">Cancel</button>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <p>You are now done.</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-stepper>
